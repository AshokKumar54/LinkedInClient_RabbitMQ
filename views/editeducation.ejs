<!DOCTYPE html>
<html lang="en" class="os-win" ng-app>
<head>
    <link rel="icon" href="https://static.licdn.com/scds/common/u/images/logos/favicons/v1/favicon.ico">
    <link rel="stylesheet" type="text/css" href="https://static.licdn.com/scds/concat/common/css?h=a6c7eivr8umrp20gkm4s5m4kd-8xeypgdgvcizdctzm0e7ukaca">
    <!-- main css----->
    <link href="./stylesheets/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="https://static.licdn.com/scds/concat/common/css?h=butwuk9519t84n1sehrnvm28e-88a1cukpbdne8xc9d9pgyy4yy-7utshxh7khh3dt6rf9hqkcva9-dh9s2pgf6ghcuifobl7cvitf9-9zqrvq8cfveudp183uj4r7mnn-24o3wkkwwvmwutak3nlw5lx4n-eu8svnpd32wrtwqeuiuomdty0-d3qzdm6v4fwdfvj915pc8j33q-7wkobeym49ay68d7m8s89ll84-b9x9bqassms851tb78g9ejb4l-bl8cw4bd4ob4pwjuq0b91hzgl-6ats6m7xduygfm2ub9thl1xvq&amp;fc=2">
	<script type="text/javascript">
	function isNumber(evt) {
			    evt = (evt) ? evt : window.event;
			    var charCode = (evt.which) ? evt.which : evt.keyCode;
			    if(charCode != 46){
				    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
				        return false;
				    }
			    }
			    return true;
			}
			
			function editeducationController($scope, $http){
			
		if(localStorage.getItem("token") == "" || localStorage.getItem("token") == undefined){
        			window.location.href = "/";
        		}
        		
				var userid = localStorage.getItem("userid");
	        	var token = localStorage.getItem("token");
					var url = "/geteducationdetails/id/"+userid+"/token/"+token;   				
	    				$http({
							method: 'GET',
							url: url,
							data: 
							{ 
								"userid": 13 
							}						
							}).success(function(response){
								if(response.value.error == false){
									$scope.education = response.value.result;
								}
								else{
									alert(response.value.message);	
								}					
							}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
					     
				$scope.loaddetails = function(){					        
	    					var url = "/geteducationdetailsById";   				
		    				$http({
								method: 'POST',
								url: url,
								data: 
								{ 
									"userid": localStorage.getItem("userid"),
									"token": localStorage.getItem("token"),
									"educationid": $scope.educationitem.Id
								}						
								}).success(function(response){
									if(response.value.error == false){
										$scope.school = response.value.result[0].School;
										$scope.startdateyear = response.value.result[0].StartYear;
										$scope.enddateyear = response.value.result[0].EndYear;
										$scope.degree = response.value.result[0].Degree;
										$scope.grade = response.value.result[0].Grades;
										$scope.fieldofstudy = response.value.result[0].FieldofStudy;
										$scope.activityandsociety = response.value.result[0].ActivitiesAndSocieties;
										$scope.description = response.value.result[0].Description;
									}
									else{
										alert(response.value.message);	
									}					
								}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
    				};
				
				
				$scope.saveeducation = function(){		
							if($scope.educationitem == "" || $scope.educationitem == undefined){
		    						alert("Please select education");
		    						return;
		    					}	
		    							        
	    					var url = "/updateeducation";   				
		    				$http({
								method: 'POST',
								url: url,
								data: 
								{ 
									"userid": localStorage.getItem("userid"),
									"token": localStorage.getItem("token"),
									"educationid": $scope.educationitem.Id,
									"school": $scope.school,
									"startdateyear": $scope.startdateyear,
									"enddateyear": $scope.enddateyear,
									"degree": $scope.degree,
									"grades": $scope.grade,
									"fieldofstudy": $scope.fieldofstudy,
									"activitiesandsocieties": $scope.activityandsociety,
									"description": $scope.description,
								}						
								}).success(function(response){
									if(response.value.error == false){
										alert(response.value.result);
										$scope.educationitem = "";
										$scope.school = "";
										$scope.startdateyear = "";
										$scope.enddateyear = "";
										$scope.degree = "";
										$scope.grade = "";
										$scope.fieldofstudy = "";
										$scope.activityandsociety = "";
										$scope.description = "";
									}
									else{
										alert(response.value.message);	
									}					
								}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
    				};
    				
    				$scope.deleteeducation = function() {
    						if($scope.educationitem == "" || $scope.educationitem == undefined){
		    						alert("Please select education");
		    						return;
		    					}	
		    					
    					if (confirm("Are you sure you want to delete education?") == true) {
    						var url = "/deleteeducation/educationid/" + $scope.educationitem.Id + "/token/" + token;   				
		    				$http({
								method: 'DELETE',
								url: url,
								data: 
								{ 
									"userid": 13,
									"educationid": $scope.educationitem.Id
								}						
								}).success(function(response){
									if(response.value.error == false){
										alert(response.value.result);		
			    						$scope.educationitem = "";
			    						$scope.school = "";
										$scope.degree = "";
										$scope.grade = "";
										$scope.fieldofstudy = "";
										$scope.activityandsociety = "";
										$scope.description = "";	
										$scope.startdateyear = "";
										$scope.enddateyear = "";
										location.reload();
									}
									else{
										alert(response.value.message);	
									}					
								}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
    					}
    				};
    				
    				$scope.reset = function() {
    						$scope.educationitem = "";
							$scope.school = "";
							$scope.degree = "";
							$scope.grade = "";
							$scope.fieldofstudy = "";
							$scope.activityandsociety = "";
							$scope.description = "";
							$scope.startdateyear = "";
							$scope.enddateyear = "";
    				};
    				
    				var url = "/getlastlogindetails/id/"+userid+"/token/"+token;   				
	    				$http({
							method: 'GET',
							url: url,
							data: 
							{ 
								"userid": 13 
							}						
							}).success(function(response){
								if(response.value.error == false){			
									try{	
										var splitDate = response.value.result[0].LastLogin.split("T");
										var splitTime = splitDate[1].split(".");										
										$scope.lastlogin = splitDate[0] + " " + splitTime[0];
									}
									catch(e){
										$scope.lastlogin = response.value.result[0].LastLogin;
									}						
								}
								else{
									alert(response.value.message);	
								}					
							}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
					     
					     
					$scope.logout = function(){
						var url = "/logout/id/"+userid+"/token/"+token;   				
	    				$http({
							method: 'GET',
							url: url,
							data: 
							{ 
								"userid": 13 
							}						
							}).success(function(response){
								if(response.value.error == false){			
									window.location.href = "/logout";						
								}
								else{
									alert(response.value.message);	
								}					
							}).error(function(err){
								if(err.value.message.message != undefined){
									alert(err.value.message.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
								else{
									alert(err.value.message);
									if(err.value.message == "No records found." || err.value.message == "No active session found. Please login again to create a valid session."){
										window.location.href = "/";
									}
								}
					     });
					};
    		}
	</script>
</head>
<body ng-controller="editeducationController" dir="ltr" class="member v2  chrome-v5 chrome-v5-responsive sticky-bg" id="pagekey-nprofile_my_profile">
    <!------------------header----------------->
    <div id="header" class="global-header responsive-header nav-v5-2-header responsive-1 remote-nav" role="banner">
        <div id="top-header">
            <div class="wrapper">
                <div class="header-section first-child">
                    <table width="100%">
                        <tr>
                            <td style="width: 70%">
                                <a href="javascript:void(0)" class="logo" id="in-logo">
                                    LinkedIn
                                </a>
                            </td>
                            <td style="width: 28%">
                                <label style="color: #ffffff; font-size: 10pt; padding-left: 5%" ng-model="lastlogin">Last Login - {{ lastlogin }}</label> :                         
                            </td>
                            <td>
                                <img ng-click="logout()" title="Logout" src="./img/log_off.png" class="logout" alt="Logout" style="height: 36px; width: 44px; cursor: pointer; padding-top: 3px;">
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="responsive-nav" id="responsive-nav-scrollable">
            <div class="wrapper">
                <ul class="nav main-nav" role="navigation">
                    <li class="nav-item">
                        <a href="/homepage" class="nav-link">
                            Home
                        </a>
                    </li>
                    <li class="nav-item selected">
                        <a href="javascript:void(0)" class="nav-link">
                            Profile
                        </a>
                        <ul class="sub-nav" id="profile-sub-nav">
                            <li>
                                <a href="/userprofile">
                                    Edit Profile
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="javascript:void(0)" class="nav-link">
                            Connections
                        </a>
                        <ul class="sub-nav">
                           <li>
                                <a href="/addconnection">
                                    Check Connections
                                </a>
                            </li>
                            <li>
                                <a href="/searchconnection">
                                    Search Connections
                                </a>
                            </li>
                            <li>
                                <a href="/deleteconnection">
                                    Delete Connections
                                </a>
                            </li>
                            <li>
                                <a href="/followcompany">
                                    Follow Company
                                </a>
                            </li>
                            <li>
                                <a href="/endorseskills">
                                    Endorse Skills
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="javascript:void(0)" class="nav-link">
                            Experience
                        </a>
                        <ul class="sub-nav">
                            <li>
                                <a href="/addexperience">
                                    Add Experience
                                </a>
                            </li>
                            <li>
                                <a href="/editexperience">
                                    Edit Experience
                                </a>
                            </li>
                            <li>
                                <a href="/addproject">
                                    Add Projects
                                </a>
                            </li>
                            <li>
                                <a href="/editproject">
                                    Edit Projects
                                </a>
                            </li>
                            <li>
                                <a href="/skill">
                                    Skill
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="javascript:void(0)" class="nav-link">
                            Education
                        </a>
                        <ul class="sub-nav">
                            <li>
                                <a href="/addeducation">
                                    Add Education
                                </a>
                            </li>
                            <li>
                                <a href="/editeducation">
                                    Edit Education
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="javascript:void(0)" class="nav-link">
                            Recommendations
                        </a>
                        <ul class="sub-nav" id="interests-sub-nav">
                            <li>
                                <a href="/recommendations">
                                    Give Recommendations
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!------------------BodyContent----------------->

    <div>
        <table style="width: 100%; height: inherit">
            <tr>
                <td style="padding-left: 23%; padding-right: 23%; padding-top: 6.5%">
                    <div class="mainContent">
                        <fieldset style="margin-top: 2%; margin-left: 2%; margin-right: 2%">
                            <legend><label style="font-size: 19pt; color: #c3bbbb">Education</label></legend>
                            <div style="padding-left: 5%; padding-right: 5%; padding-top: 2%; padding-bottom: 2%">
                                <br />
                                <div>
                                    <table width="100%">
                                    	<tr>
                                    		<td colspan="2">
                                    			<table width="100%">
                                    				<tr>
			                                            <td>
			                                                <label style="font-size: 12pt; font-weight: bold">Select Education</label>
			                                            </td>
			                                        </tr>
			                                        <tr>
			                                            <td>
			                                                <br />
			                                                <div class="dropdown" style="width: 605px; height: 30px;">
			                                                    <select ng-change="loaddetails()" ng-options="edu as edu.School for edu in education" ng-model="educationitem" name="education" class="dropdown-select">
			                                                    </select>
			                                                </div>
			                                            </td>
			                                        </tr>
                                    			</table>
                                    		</td>
                                    	</tr>
                                    	<tr>
                                    		<td colspan="2">
                                    			<br />
                                    		</td>
                                    	</tr>
                                        <tr>
                                            <td>
                                                <table>
                                                    <tr>
                                                        <td style="width: 40%">
                                                            <label style="font-weight: bold">School</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <input type="text" ng-model="school" id="txtSchool" value="" style="width: 270px; height: 24px;" />
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td style="padding-left: 50px;">
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <label style="font-weight: bold"> Dates Attended</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <table>
                                                                <tr>
                                                                    <td style="padding-right: 8px;">
                                                                        <div class="dropdown" style="width: 123px; height: 30px;">
                                                                            <select name="one" class="dropdown-select" id="ddlStartYear" ng-model="startdateyear">
                                                                                <option value="0">Select</option>
                                                                                <option value="2015">2015</option>
                                                                                <option value="2014">2014</option>
                                                                                <option value="2013">2013</option>
                                                                                <option value="2012">2012</option>
                                                                                <option value="2011">2011</option>
                                                                                <option value="2010">2010</option>
                                                                                <option value="2009">2009</option>
                                                                                <option value="2008">2008</option>
                                                                                <option value="2007">2007</option>
                                                                                <option value="2006">2006</option>
                                                                                <option value="2005">2005</option>
                                                                                <option value="2004">2004</option>
                                                                                <option value="2003">2003</option>
                                                                                <option value="2002">2002</option>
                                                                                <option value="2001">2001</option>
                                                                                <option value="2000">2000</option>
                                                                                <option value="1999">1999</option>
                                                                                <option value="1998">1998</option>
                                                                                <option value="1997">1997</option>
                                                                                <option value="1996">1996</option>
                                                                                <option value="1995">1995</option>
                                                                                <option value="1994">1994</option>
                                                                                <option value="1993">1993</option>
                                                                                <option value="1992">1992</option>
                                                                                <option value="1991">1991</option>
                                                                                <option value="1990">1990</option>
                                                                                <option value="1989">1989</option>
                                                                                <option value="1988">1988</option>
                                                                            </select>
                                                                        </div>
                                                                    </td>
                                                                    <td><p>   -   </p></td>
                                                                    <td style="padding-left: 8px;">
                                                                        <div class="dropdown" style="width: 123px; height: 30px;">
                                                                            <select name="two" class="dropdown-select" id="ddlEndYear" ng-model="enddateyear">
                                                                                 <option value="0">Select</option>
                                                                                <option value="2022">2022</option>
                                                                                <option value="2021">2021</option>
                                                                                <option value="2020">2020</option>
                                                                                <option value="2019">2019</option>
                                                                                <option value="2018">2018</option>
                                                                                <option value="2017">2017</option>
                                                                                <option value="2016">2016</option>
                                                                                <option value="2015">2015</option>
                                                                                <option value="2014">2014</option>
                                                                                <option value="2013">2013</option>
                                                                                <option value="2012">2012</option>
                                                                                <option value="2011">2011</option>
                                                                                <option value="2010">2010</option>
                                                                                <option value="2009">2009</option>
                                                                                <option value="2008">2008</option>
                                                                                <option value="2007">2007</option>
                                                                                <option value="2006">2006</option>
                                                                                <option value="2005">2005</option>
                                                                                <option value="2004">2004</option>
                                                                                <option value="2003">2003</option>
                                                                                <option value="2002">2002</option>
                                                                                <option value="2001">2001</option>
                                                                                <option value="2000">2000</option>
                                                                                <option value="1999">1999</option>
                                                                                <option value="1998">1998</option>
                                                                                <option value="1997">1997</option>
                                                                                <option value="1996">1996</option>
                                                                                <option value="1995">1995</option>
                                                                                <option value="1994">1994</option>
                                                                                <option value="1993">1993</option>
                                                                                <option value="1992">1992</option>
                                                                                <option value="1991">1991</option>
                                                                                <option value="1990">1990</option>
                                                                                <option value="1989">1989</option>
                                                                                <option value="1988">1988</option>
                                                                            </select>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr><td colspan="2"><br /></td></tr>
                                        <tr>
                                            <td>
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <label style="font-weight: bold">Degree</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <div class="dropdown" style="width: 270px; height: 30px;">
                                                                <select name="two" class="dropdown-select" ng-model="degree">
                                                                    <option value="0">Select</option>
                                                                    <option value="1">High School</option>
                                                                    <option value="2">Associate's Degree</option>
                                                                    <option value="3">Bachelor's Degree</option>
                                                                    <option value="4">Master's Degree</option>
                                                                    <option value="5">Master of Business Administration (M.B.A.)</option>
                                                                    <option value="6">Juris Doctor</option>
                                                                    <option value="7">Doctor of Medicine (M.D.)</option>
                                                                    <option value="8">Doctor of Philosophy (Ph.D.)</option>
                                                                    <option value="9">Engineer's Degree</option>
                                                                    <option value="10">Others</option>
                                                                </select>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                            <td style="padding-left: 50px;">
                                                <table>
                                                    <tr>
                                                        <td style="width: 40%">
                                                            <label style="font-weight: bold">Grades</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <input type="text" onkeypress="return isNumber(event)" maxlength="4" ng-model="grade" id="txtgrades" value="" style="width: 270px; height: 24px;" />
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr><td colspan="2"><br /></td></tr>
                                        <tr>
                                            <td colspan="2">
                                                <table>
                                                    <tr>
                                                        <td style="width: 40%">
                                                            <label style="font-weight: bold">Field of study</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <input type="text" ng-model="fieldofstudy" id="txtfieldofstudy" value="" style="width: 605px; height: 24px;" />
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr><td colspan="2"><br /></td></tr>
                                        <tr>
                                            <td colspan="2">
                                                <table>
                                                    <tr>
                                                        <td style="width: 40%">
                                                            <label style="font-weight: bold">Activities and Societies</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <textarea cols="230" ng-model="activityandsociety" id="txtactivitiesnsocieties" rows="8" style="max-height: 60px; max-width: 605px"></textarea>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <label style="font-size: 9pt; color: #b0acac">Examples: Alpha Phi Omega, Chamber Chorale, Debate Team</label>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                        <tr><td colspan="2"><br /></td></tr>
                                        <tr>
                                            <td colspan="2">
                                                <br />
                                                <table width="100%">
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <label style="font-weight: bold">Description</label>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <br />
                                                            <textarea cols="230" ng-model="description" id="txtdescription" rows="15" style="max-height: 150px; max-width: 605px"></textarea>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <br />
                            </div>
                            <br />
                            <div id="divButtons" style="float: right; padding-right: 5%">
                                <input type="button" ng-click="saveeducation()" id="btnSave" class="btnBlue" data-li-trk-code="recs-give-form-send" value="Save" />&nbsp;&nbsp;
                                <input type="button" ng-click="deleteeducation()" id="btnDelete" class="btnBlue" data-li-trk-code="recs-give-form-send" value="Delete" />&nbsp;&nbsp;
                                <input type="button" ng-click="reset()" id="btnCancel" class="btnGrey" value="Cancel" />
                            </div>
                        </fieldset>
                        <br />
                    </div>
                </td>
            </tr>
        </table>
    </div>

    <!------------------Footer----------------->

    <footer>
        <div>
            <div>
                <div class="wrapper">
                    <p style="left: 42%; padding-bottom :2%; padding-top: 1%; font-size: 9pt; position:absolute;" id="copyright" class="guest"><span>LinkedIn Corporation</span> <em>&copy; 2015</em></p>
                </div>
            </div>
        </div>
    </footer>

</body>
</html>
